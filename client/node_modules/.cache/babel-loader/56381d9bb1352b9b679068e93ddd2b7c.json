{"ast":null,"code":"var _jsxFileName = \"C:\\\\nodejs_projects\\\\ecommerce_CA\\\\client\\\\src\\\\components\\\\Dashboard.js\";\n// \nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport NavigationBar from \"./NavigationBar\";\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\";\nexport default class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.updateUser = () => {\n      const _this$state = this.state,\n            newName = _this$state.newName,\n            newPhone = _this$state.newPhone,\n            newAddress = _this$state.newAddress;\n      const userEmail = JSON.parse(localStorage.getItem(\"userEmail\") || null);\n      axios.put(\"\".concat(SERVER_HOST, \"/users/update\"), {\n        email: userEmail,\n        newName,\n        newPhone,\n        newAddress\n      }).then(res => {\n        // Handle success\n        console.log(\"User updated successfully\");\n      }).catch(err => {\n        // Handle error\n        console.error(\"Error updating user:\", err);\n      });\n    };\n\n    this.state = {\n      user: {},\n      newName: \"\",\n      newPhone: \"\",\n      newAddress: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let userEmail = JSON.parse(localStorage.getItem(\"userEmail\") || null);\n    axios.get(\"\".concat(SERVER_HOST, \"/users/email?email=\").concat(userEmail)).then(res => {\n      this.setState({\n        user: res.data\n      });\n    }).catch(err => {\n      console.error(\"Error fetching user data:\", err);\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          user = _this$state2.user,\n          newName = _this$state2.newName,\n          newPhone = _this$state2.newPhone,\n          newAddress = _this$state2.newAddress;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(NavigationBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"User Details:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Name: \", user.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Email: \", user.email), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Phone: \", user.phone), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Address: \", user.address)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Update User:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"newName\",\n      placeholder: \"New Name\",\n      value: newName,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"newPhone\",\n      placeholder: \"New Phone\",\n      value: newPhone,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"newAddress\",\n      placeholder: \"New Address\",\n      value: newAddress,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.updateUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Update\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\nodejs_projects\\ecommerce_CA\\client\\src\\components\\Dashboard.js"],"names":["React","Component","Link","axios","NavigationBar","ACCESS_LEVEL_GUEST","ACCESS_LEVEL_ADMIN","SERVER_HOST","Dashboard","constructor","props","handleInputChange","e","target","name","value","setState","updateUser","state","newName","newPhone","newAddress","userEmail","JSON","parse","localStorage","getItem","put","email","then","res","console","log","catch","err","error","user","componentDidMount","get","data","render","phone","address"],"mappings":"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","sourcesContent":["// \r\n\r\n\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\";\r\n\r\nexport default class Dashboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: {},\r\n            newName: \"\",\r\n            newPhone: \"\",\r\n            newAddress: \"\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let userEmail = JSON.parse(localStorage.getItem(\"userEmail\") || null);\r\n\r\n        axios.get(`${SERVER_HOST}/users/email?email=${userEmail}`)\r\n            .then(res => {\r\n                this.setState({ user: res.data });\r\n            })\r\n            .catch(err => {\r\n                console.error(\"Error fetching user data:\", err);\r\n            });\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    updateUser = () => {\r\n        const { newName, newPhone, newAddress } = this.state;\r\n        const userEmail = JSON.parse(localStorage.getItem(\"userEmail\") || null);\r\n\r\n        axios.put(`${SERVER_HOST}/users/update`, { email: userEmail, newName, newPhone, newAddress })\r\n            .then(res => {\r\n                // Handle success\r\n                console.log(\"User updated successfully\");\r\n            })\r\n            .catch(err => {\r\n                // Handle error\r\n                console.error(\"Error updating user:\", err);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { user, newName, newPhone, newAddress } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <NavigationBar />\r\n                <div>\r\n                    <h3>User Details:</h3>\r\n                    <p>Name: {user.name}</p>\r\n                    <p>Email: {user.email}</p>\r\n                    <p>Phone: {user.phone}</p>\r\n                    <p>Address: {user.address}</p>\r\n                </div>\r\n                <div>\r\n                    <h3>Update User:</h3>\r\n                    <input type=\"text\" name=\"newName\" placeholder=\"New Name\" value={newName} onChange={this.handleInputChange} />\r\n                    <input type=\"text\" name=\"newPhone\" placeholder=\"New Phone\" value={newPhone} onChange={this.handleInputChange} />\r\n                    <input type=\"text\" name=\"newAddress\" placeholder=\"New Address\" value={newAddress} onChange={this.handleInputChange} />\r\n                    <button onClick={this.updateUser}>Update</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}